<project 
    name="Strata" 
    default="run-commit-stage" 
    basedir=".">

	
    <!-- root directories -->
    <property name="workspace.root" value="${basedir}/.."/>
    <property name="common.root" value="${workspace.root}/StrataCommon"/>
    <property name="integrator.root" value="${workspace.root}/StrataIntegrator"/>
    <property name="client.root" value="${workspace.root}/StrataClient"/>
    <property name="swtclient.root" value="${workspace.root}/StrataSwtClient"/>
    <property name="inspector.root" value="${workspace.root}/StrataInspector"/>
    <property name="entity.root" value="${workspace.root}/StrataEntity"/>
    <property name="server.root" value="${workspace.root}/StrataServer"/>
 
    <target name="clean">
        <ant 
            dir="${common.root}" 
            antfile="${common.root}/build.xml" 
            target="clean"/>
        <ant 
            dir="${integrator.root}" 
            antfile="${integrator.root}/build.xml" 
            target="clean"/>
        <ant 
            dir="${client.root}" 
            antfile="${client.root}/build.xml" 
            target="clean"/>
        <ant 
            dir="${swtclient.root}" 
            antfile="${swtclient.root}/build.xml" 
            target="clean"/>
        <ant 
            dir="${inspector.root}" 
            antfile="${inspector.root}/build.xml" 
            target="clean"/>
        <ant 
            dir="${entity.root}" 
            antfile="${entity.root}/build.xml" 
            target="clean"/>
        <ant 
            dir="${server.root}" 
            antfile="${server.root}/build.xml" 
            target="clean"/>
    </target>

    <target name="run-commit-stage">
        <ant 
            dir="${common.root}" 
            antfile="${common.root}/build.xml" 
            target="run-commit-stage"/>
    	<ant 
    	    dir="${integrator.root}" 
    	    antfile="${integrator.root}/build.xml" 
            target="run-commit-stage"/>
        <ant 
            dir="${client.root}" 
            antfile="${client.root}/build.xml" 
            target="run-commit-stage"/>
        <ant 
            dir="${swtclient.root}" 
            antfile="${swtclient.root}/build.xml" 
            target="run-commit-stage"/>
        <ant 
            dir="${inspector.root}" 
            antfile="${inspector.root}/build.xml" 
            target="run-commit-stage"/>
        <ant 
            dir="${entity.root}" 
            antfile="${entity.root}/build.xml" 
            target="run-commit-stage"/>
        <ant 
            dir="${server.root}" 
            antfile="${server.root}/build.xml" 
            target="run-commit-stage"/>
    </target>
	
    <target name="run-integration-stage">
        <ant 
            dir="${common.root}" 
            antfile="${common.root}/build.xml" 
            target="run-integration-stage"/>
        <ant 
            dir="${integrator.root}" 
            antfile="${integrator.root}/build.xml" 
            target="run-integration-stage"/>
        <ant 
            dir="${client.root}" 
            antfile="${client.root}/build.xml" 
            target="run-integration-stage"/>
        <ant 
            dir="${swtclient.root}" 
            antfile="${swtclient.root}/build.xml" 
            target="run-integration-stage"/>
        <ant 
            dir="${inspector.root}" 
            antfile="${inspector.root}/build.xml" 
            target="run-integration-stage"/>
        <ant 
            dir="${entity.root}" 
            antfile="${entity.root}/build.xml" 
            target="run-integration-stage"/>
        <ant 
            dir="${server.root}" 
            antfile="${server.root}/build.xml" 
            target="run-integration-stage"/>
    </target>
	
</project>