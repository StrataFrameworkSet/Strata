<project 
    xmlns:artifact="antlib:org.apache.maven.artifact.ant"
    name="StrataIntegrator" 
    default="run-commit-stage">

    <property name="sourceDirectory" value="${basedir}/src"/>
    <property name="outputDirectory" value="${basedir}/bin"/>
    <property name="directory" value="${basedir}/lib"/>
    <property name="version" value="DEV"/>
    <property name="artifactName" value="${ant.project.name}-${version}"/>
    <property name="project.artifact" value="${directory}/${artifactName}.jar"/>

    <artifact:dependencies pathId="dependency.classpath">
        <artifact:dependency groupId="com.amazonaws" artifactId="aws-java-sdk" version="1.8.3"/>
        <artifact:dependency groupId="junit" artifactId="junit" version="4.9"/>
    </artifact:dependencies>

    <target name="clean">
        <delete dir="${outputDirectory}"/>
        <delete file="${project.artifact}"/>
    </target>
    
    <target name="init">
        <mkdir dir="${outputDirectory}"/>
    </target>
    
    <target 
        name="compile" 
        depends="init">
        <javac 
            srcdir="${sourceDirectory}" 
            destdir="${outputDirectory}" 
            classpathref="dependency.classpath" 
            compiler="javac1.7"
            includeantruntime="false"/>
    </target>
    
    <target
        name="package"
        depends="compile">
        <jar 
            destfile="${project.artifact}"
            basedir="${outputDirectory}"/>
    </target>
    
    <target 
        name="run-commit-stage"
        depends="package">
    </target>
    
    <target 
        name="run-integration-stage"
        depends="init">
    </target>
    
</project>  